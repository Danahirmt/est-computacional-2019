<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4. Programación funcional y distribución muestral | Estadística Computacional</title>
  <meta name="description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2019." />
  <meta name="generator" content="bookdown 0.13.2 and GitBook 2.6.7" />

  <meta property="og:title" content="4. Programación funcional y distribución muestral | Estadística Computacional" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2019." />
  <meta name="github-repo" content="tereom/est-computacional-2019" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4. Programación funcional y distribución muestral | Estadística Computacional" />
  
  <meta name="twitter:description" content="Curso de estadística computacional, Maestría en Ciencia de Datos, ITAM 2019." />
  

<meta name="author" content="María Teresa Ortiz" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="union-de-tablas-y-limpieza-de-datos.html"/>
<link rel="next" href="bootstrap-conteo.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/d3-3.5.6/d3.min.js"></script>
<link href="libs/profvis-0.3.6/profvis.css" rel="stylesheet" />
<script src="libs/profvis-0.3.6/profvis.js"></script>
<link href="libs/highlight-6.2.0/textmate.css" rel="stylesheet" />
<script src="libs/highlight-6.2.0/highlight.js"></script>
<script src="libs/profvis-binding-0.3.6/profvis.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
<link rel="stylesheet" href="css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="css/cajas.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estadística Computacional</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Información del curso</a><ul>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html"><i class="fa fa-check"></i>Temario</a><ul>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#calificacion"><i class="fa fa-check"></i>Calificación</a></li>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#software"><i class="fa fa-check"></i>Software</a></li>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#otros-recursos"><i class="fa fa-check"></i>Otros recursos</a></li>
<li class="chapter" data-level="" data-path="temario.html"><a href="temario.html#noticias"><i class="fa fa-check"></i>Noticias</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="principios-visualizacion.html"><a href="principios-visualizacion.html"><i class="fa fa-check"></i><b>1</b> Principios visualización</a><ul>
<li class="chapter" data-level="1.1" data-path="introduccion.html"><a href="introduccion.html"><i class="fa fa-check"></i><b>1.1</b> Introducción</a><ul>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#visualizacion-de-datos-en-la-estadistica"><i class="fa fa-check"></i>Visualización de datos en la estadística</a></li>
<li class="chapter" data-level="" data-path="introduccion.html"><a href="introduccion.html#visualizacion-popular-de-datos"><i class="fa fa-check"></i>Visualización popular de datos</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="teoria-de-visualizacion-de-datos.html"><a href="teoria-de-visualizacion-de-datos.html"><i class="fa fa-check"></i><b>1.2</b> Teoría de visualización de datos</a></li>
<li class="chapter" data-level="1.3" data-path="factor-de-engano-y-chartjunk.html"><a href="factor-de-engano-y-chartjunk.html"><i class="fa fa-check"></i><b>1.3</b> Factor de engaño y Chartjunk</a></li>
<li class="chapter" data-level="1.4" data-path="pequenos-multiplos-y-densidad-grafica.html"><a href="pequenos-multiplos-y-densidad-grafica.html"><i class="fa fa-check"></i><b>1.4</b> Pequeños múltiplos y densidad gráfica</a></li>
<li class="chapter" data-level="1.5" data-path="tinta-de-datos.html"><a href="tinta-de-datos.html"><i class="fa fa-check"></i><b>1.5</b> Tinta de datos</a></li>
<li class="chapter" data-level="1.6" data-path="decoracion.html"><a href="decoracion.html"><i class="fa fa-check"></i><b>1.6</b> Decoración</a></li>
<li class="chapter" data-level="1.7" data-path="percepcion-de-escala.html"><a href="percepcion-de-escala.html"><i class="fa fa-check"></i><b>1.7</b> Percepción de escala</a></li>
<li class="chapter" data-level="1.8" data-path="ejemplos-grafica-de-minard.html"><a href="ejemplos-grafica-de-minard.html"><i class="fa fa-check"></i><b>1.8</b> Ejemplos: gráfica de Minard</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduccion-a-r-y-al-paquete-ggplot2.html"><a href="introduccion-a-r-y-al-paquete-ggplot2.html"><i class="fa fa-check"></i><b>2</b> Introducción a R y al paquete ggplot2</a><ul>
<li class="chapter" data-level="2.1" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html"><i class="fa fa-check"></i><b>2.1</b> R: primeros pasos</a><ul>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#r-en-analisis-de-datos"><i class="fa fa-check"></i>R en análisis de datos</a></li>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#paquetes-y-el-tidyverse"><i class="fa fa-check"></i>Paquetes y el Tidyverse</a></li>
<li class="chapter" data-level="" data-path="r-primeros-pasos.html"><a href="r-primeros-pasos.html#recursos"><i class="fa fa-check"></i>Recursos</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="visualizacion-con-ggplot2.html"><a href="visualizacion-con-ggplot2.html"><i class="fa fa-check"></i><b>2.2</b> Visualización con ggplot2</a><ul>
<li class="chapter" data-level="" data-path="visualizacion-con-ggplot2.html"><a href="visualizacion-con-ggplot2.html#recursos-1"><i class="fa fa-check"></i>Recursos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="manipulacion-y-agrupacion-de-datos.html"><a href="manipulacion-y-agrupacion-de-datos.html"><i class="fa fa-check"></i><b>3</b> Manipulación y agrupación de datos</a><ul>
<li class="chapter" data-level="3.1" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html"><i class="fa fa-check"></i><b>3.1</b> Transformación de datos</a><ul>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#datos"><i class="fa fa-check"></i>Datos</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#filtrar"><i class="fa fa-check"></i>Filtrar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#seleccionar"><i class="fa fa-check"></i>Seleccionar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#ordenar"><i class="fa fa-check"></i>Ordenar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#mutar"><i class="fa fa-check"></i>Mutar</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#summarise-y-resumenes-por-grupo"><i class="fa fa-check"></i>Summarise y resúmenes por grupo</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#variables-por-grupo"><i class="fa fa-check"></i>Variables por grupo</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos.html"><a href="transformacion-de-datos.html#verbos-de-dos-tablas"><i class="fa fa-check"></i>Verbos de dos tablas</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="datos-limpios.html"><a href="datos-limpios.html"><i class="fa fa-check"></i><b>3.2</b> Datos limpios</a><ul>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#limpieza-bases-de-datos"><i class="fa fa-check"></i>Limpieza bases de datos</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#los-encabezados-de-las-columanas-son-valores"><i class="fa fa-check"></i>Los encabezados de las columanas son valores</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#una-columna-asociada-a-mas-de-una-variable"><i class="fa fa-check"></i>Una columna asociada a más de una variable</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#variables-almacenadas-en-filas-y-columnas"><i class="fa fa-check"></i>Variables almacenadas en filas y columnas</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#una-misma-unidad-observacional-esta-almacenada-en-multiples-tablas"><i class="fa fa-check"></i>Una misma unidad observacional está almacenada en múltiples tablas</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#otras-consideraciones"><i class="fa fa-check"></i>Otras consideraciones</a></li>
<li class="chapter" data-level="" data-path="datos-limpios.html"><a href="datos-limpios.html#recursos-adicionales"><i class="fa fa-check"></i>Recursos adicionales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="temas-selectos-de-r.html"><a href="temas-selectos-de-r.html"><i class="fa fa-check"></i><b>4</b> Temas selectos de R</a><ul>
<li class="chapter" data-level="4.1" data-path="funciones-e-iteracion.html"><a href="funciones-e-iteracion.html"><i class="fa fa-check"></i><b>4.1</b> Funciones e iteración</a><ul>
<li class="chapter" data-level="" data-path="funciones-e-iteracion.html"><a href="funciones-e-iteracion.html#funciones"><i class="fa fa-check"></i>Funciones</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>4.2</b> Vectores</a><ul>
<li class="chapter" data-level="" data-path="vectores.html"><a href="vectores.html#propiedades"><i class="fa fa-check"></i>Propiedades</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="iteracion.html"><a href="iteracion.html"><i class="fa fa-check"></i><b>4.3</b> Iteración</a><ul>
<li class="chapter" data-level="" data-path="iteracion.html"><a href="iteracion.html#ciclos-for"><i class="fa fa-check"></i>Ciclos for</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html"><i class="fa fa-check"></i><b>4.4</b> Rendimiento en R</a><ul>
<li class="chapter" data-level="" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html#diagnosticar"><i class="fa fa-check"></i>Diagnosticar</a></li>
<li class="chapter" data-level="" data-path="rendimiento-en-r.html"><a href="rendimiento-en-r.html#estrategias-para-mejorar-desempeno"><i class="fa fa-check"></i>Estrategias para mejorar desempeño</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="lecturas-y-recursos-recomendados-de-r.html"><a href="lecturas-y-recursos-recomendados-de-r.html"><i class="fa fa-check"></i><b>4.5</b> Lecturas y recursos recomendados de R</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduccion-a-calculo-de-probabilidades.html"><a href="introduccion-a-calculo-de-probabilidades.html"><i class="fa fa-check"></i><b>5</b> Introducción a Cálculo de Probabilidades</a><ul>
<li class="chapter" data-level="5.1" data-path="probabilidad-como-extension-de-proporcion.html"><a href="probabilidad-como-extension-de-proporcion.html"><i class="fa fa-check"></i><b>5.1</b> Probabilidad como extensión de proporción</a></li>
<li class="chapter" data-level="5.2" data-path="interpretacion-frecuentista-de-probabilidad.html"><a href="interpretacion-frecuentista-de-probabilidad.html"><i class="fa fa-check"></i><b>5.2</b> Interpretación frecuentista de probabilidad</a><ul>
<li class="chapter" data-level="" data-path="interpretacion-frecuentista-de-probabilidad.html"><a href="interpretacion-frecuentista-de-probabilidad.html#resultados-empiricos-acerca-de-frecuencias-relativas"><i class="fa fa-check"></i>Resultados empíricos acerca de frecuencias relativas</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="simulacion-para-el-calculo-de-probabilidades.html"><a href="simulacion-para-el-calculo-de-probabilidades.html"><i class="fa fa-check"></i><b>5.3</b> Simulación para el cálculo de probabilidades</a></li>
<li class="chapter" data-level="5.4" data-path="modelos-de-probabilidad-definicion-general.html"><a href="modelos-de-probabilidad-definicion-general.html"><i class="fa fa-check"></i><b>5.4</b> Modelos de probabilidad (definición general)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="modelos-de-probabilidad-definicion-general.html"><a href="modelos-de-probabilidad-definicion-general.html#espacios-discretos"><i class="fa fa-check"></i><b>5.4.1</b> Espacios discretos</a></li>
<li class="chapter" data-level="5.4.2" data-path="modelos-de-probabilidad-definicion-general.html"><a href="modelos-de-probabilidad-definicion-general.html#espacios-continuos"><i class="fa fa-check"></i><b>5.4.2</b> Espacios continuos</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="probabilidad-definicion-matematica.html"><a href="probabilidad-definicion-matematica.html"><i class="fa fa-check"></i><b>5.5</b> Probabilidad: definición matemática</a><ul>
<li class="chapter" data-level="" data-path="probabilidad-definicion-matematica.html"><a href="probabilidad-definicion-matematica.html#propiedades-de-la-funcion-de-probabilidad"><i class="fa fa-check"></i>Propiedades de la función de probabilidad:</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html"><i class="fa fa-check"></i><b>5.6</b> Variables aleatorias</a><ul>
<li class="chapter" data-level="" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#distribucion-de-probabilidad"><i class="fa fa-check"></i>Distribución de probabilidad</a></li>
<li class="chapter" data-level="" data-path="variables-aleatorias.html"><a href="variables-aleatorias.html#variables-aleatorias-continuas"><i class="fa fa-check"></i>Variables aleatorias continuas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="bootstrap-no-parametrico.html"><a href="bootstrap-no-parametrico.html"><i class="fa fa-check"></i><b>6</b> Bootstrap no paramétrico</a><ul>
<li class="chapter" data-level="6.1" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html"><i class="fa fa-check"></i><b>6.1</b> El principio del plug-in</a><ul>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#muestras-aleatorias"><i class="fa fa-check"></i>Muestras aleatorias</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#funcion-de-distribucion-empirica"><i class="fa fa-check"></i>Función de distribución empírica</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#parametros-y-estadisticas"><i class="fa fa-check"></i>Parámetros y estadísticas</a></li>
<li class="chapter" data-level="" data-path="el-principio-del-plug-in.html"><a href="el-principio-del-plug-in.html#distribuciones-muestrales-y-errores-estandar"><i class="fa fa-check"></i>Distribuciones muestrales y errores estándar</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="el-estimador-bootstrap-del-error-estandar.html"><a href="el-estimador-bootstrap-del-error-estandar.html"><i class="fa fa-check"></i><b>6.2</b> El estimador bootstrap del error estándar</a><ul>
<li class="chapter" data-level="" data-path="el-estimador-bootstrap-del-error-estandar.html"><a href="el-estimador-bootstrap-del-error-estandar.html#variacion-en-distribuciones-bootstrap"><i class="fa fa-check"></i>Variación en distribuciones bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="intervalos-de-confianza.html"><a href="intervalos-de-confianza.html"><i class="fa fa-check"></i><b>6.3</b> Intervalos de confianza</a></li>
<li class="chapter" data-level="6.4" data-path="mas-alla-de-muestras-aleatorias-simples.html"><a href="mas-alla-de-muestras-aleatorias-simples.html"><i class="fa fa-check"></i><b>6.4</b> Más alla de muestras aleatorias simples</a></li>
<li class="chapter" data-level="6.5" data-path="bootstrap-en-r.html"><a href="bootstrap-en-r.html"><i class="fa fa-check"></i><b>6.5</b> Bootstrap en R</a></li>
<li class="chapter" data-level="6.6" data-path="conclusiones-y-observaciones.html"><a href="conclusiones-y-observaciones.html"><i class="fa fa-check"></i><b>6.6</b> Conclusiones y observaciones</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="tareas.html"><a href="tareas.html"><i class="fa fa-check"></i>Tareas</a><ul>
<li class="chapter" data-level="" data-path="instalacion-y-visualizacion.html"><a href="instalacion-y-visualizacion.html"><i class="fa fa-check"></i>1. Instalación y visualización</a></li>
<li class="chapter" data-level="" data-path="transformacion-de-datos-1.html"><a href="transformacion-de-datos-1.html"><i class="fa fa-check"></i>2. Transformación de datos</a></li>
<li class="chapter" data-level="" data-path="union-de-tablas-y-limpieza-de-datos.html"><a href="union-de-tablas-y-limpieza-de-datos.html"><i class="fa fa-check"></i>3. Unión de tablas y limpieza de datos</a></li>
<li class="chapter" data-level="" data-path="programacion-funcional-y-distribucion-muestral.html"><a href="programacion-funcional-y-distribucion-muestral.html"><i class="fa fa-check"></i>4. Programación funcional y distribución muestral</a><ul>
<li class="chapter" data-level="" data-path="programacion-funcional-y-distribucion-muestral.html"><a href="programacion-funcional-y-distribucion-muestral.html#solucion-bootstrap"><i class="fa fa-check"></i>Solución + bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bootstrap-conteo.html"><a href="bootstrap-conteo.html"><i class="fa fa-check"></i>5. Bootstrap conteo</a></li>
<li class="chapter" data-level="" data-path="respuesta-ejercicios-clase.html"><a href="respuesta-ejercicios-clase.html"><i class="fa fa-check"></i>Respuesta ejercicios clase</a></li>
<li class="chapter" data-level="" data-path="mas-bootstrap.html"><a href="mas-bootstrap.html"><i class="fa fa-check"></i>6. Más bootstrap</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado con bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estadística Computacional</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="programacion-funcional-y-distribucion-muestral" class="section level2 unnumbered">
<h2>4. Programación funcional y distribución muestral</h2>
<ol style="list-style-type: decimal">
<li>Descarga la carpeta specdata, ésta contiene 332 archivos csv que almacenan
información de monitoreo de contaminación en 332 ubicaciones de EUA. Cada
archivo contiene información de una unidad de monitoreo y el número de
identificación del monitor es el nombre del archivo. En este ejercicio nos
interesa unir todas las tablas en un solo data.frame que incluya el
identificador de las estaciones.</li>
</ol>
<ul>
<li>La siguiente instrucción descarga los datos si trabajas con proyectos de
RStudio, también puedes descargar el zip manualmente.</li>
</ul>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1"><span class="kw">library</span>(usethis)</a>
<a class="sourceLine" id="cb240-2" data-line-number="2"><span class="kw">use_directory</span>(<span class="st">&quot;data&quot;</span>) </a>
<a class="sourceLine" id="cb240-3" data-line-number="3"><span class="kw">use_zip</span>(<span class="st">&quot;https://d396qusza40orc.cloudfront.net/rprog%2Fdata%2Fspecdata.zip&quot;</span>, </a>
<a class="sourceLine" id="cb240-4" data-line-number="4">    <span class="dt">destdir =</span> <span class="st">&quot;data&quot;</span>)</a></code></pre></div>
<ul>
<li>Crea un vector con las direcciones de los archivos.<br />
</li>
<li>Lee uno de los archivos usando la función <code>read_csv()</code> del paquete <code>readr</code>.<br />
Tip: especifica el tipo de cada columna usando el parámetro <code>col_types</code>.<br />
</li>
<li>Utiliza la función <code>map_df()</code> para iterar sobre el vector con las
direcciones de los archivos csv y crea un data.frame con todos los datos,
recuerda añadir una columna con el nombre del archivo para poder identificar
la estación.</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Consideramos los datos de ENLACE edo. de México
(<code>enlace</code>), y la columna de calificaciones de español 3<sup>o</sup> de primaria (<code>esp_3</code>).</li>
</ol>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb241-1" data-line-number="1"><span class="kw">library</span>(estcomp)</a>
<a class="sourceLine" id="cb241-2" data-line-number="2">enlace &lt;-<span class="st"> </span>enlacep_<span class="dv">2013</span> <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb241-3" data-line-number="3"><span class="st">    </span>janitor<span class="op">::</span><span class="kw">clean_names</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb241-4" data-line-number="4"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb241-5" data-line-number="5"><span class="st">    </span><span class="kw">select</span>(id, cve_ent, turno, tipo, <span class="dt">esp_3 =</span> punt_esp_<span class="dv">3</span>, <span class="dt">esp_6 =</span> punt_esp_<span class="dv">6</span>, </a>
<a class="sourceLine" id="cb241-6" data-line-number="6">        <span class="dt">n_eval_3 =</span> alum_eval_<span class="dv">3</span>, <span class="dt">n_eval_6 =</span> alum_eval_<span class="dv">6</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb241-7" data-line-number="7"><span class="st">    </span><span class="kw">na.omit</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb241-8" data-line-number="8"><span class="st">    </span><span class="kw">filter</span>(esp_<span class="dv">3</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, esp_<span class="dv">6</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, n_eval_<span class="dv">3</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, n_eval_<span class="dv">6</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>, cve_ent <span class="op">==</span><span class="st"> &quot;15&quot;</span>)</a></code></pre></div>
<ul>
<li><p>Selecciona una muestra de tamaño <span class="math inline">\(n = 10, 100, 1000\)</span>. Para cada muestra
calcula media y el error estándar de la media usando el principio del <em>plug-in</em>:
<span class="math inline">\(\hat{\mu}=\bar{x}\)</span>, y <span class="math inline">\(\hat{se}(\bar{x})=\hat{\sigma}_{P_n}/\sqrt{n}\)</span>. Tip:
Usa la función <code>sample_n()</code> del paquete <code>deplyr</code> para generar las muestras.</p></li>
<li>Ahora aproximareos la distribución muestral, para cada tamaño de muestra <span class="math inline">\(n\)</span>:</li>
</ul>
<ol style="list-style-type: lower-roman">
<li>simula <span class="math inline">\(10,000\)</span> muestras aleatorias, ii) calcula la media en cada muestra,</li>
<li>Realiza un histograma de la distribución muestral de las medias (las medias
del paso anterior) iv) aproxima el error estándar calculando la desviación
estándar de las medias del paso ii. Tip: Escribe una función que dependa del
tamaño de muestra y usa la función <code>rerun()</code> del paquete <code>purrr</code> para hacer las
<span class="math inline">\(10,000\)</span> simulaciones.</li>
</ol>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1">simula_media &lt;-<span class="st"> </span><span class="cf">function</span>(n) {</a>
<a class="sourceLine" id="cb242-2" data-line-number="2">    </a>
<a class="sourceLine" id="cb242-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb242-4" data-line-number="4">medias_<span class="dv">10</span> &lt;-<span class="st"> </span><span class="kw">rerun</span>(<span class="dv">10000</span>, <span class="kw">simula_media</span>(<span class="dt">n =</span> <span class="dv">10</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">flatten_dbl</span>()</a></code></pre></div>
<ul>
<li><p>Calcula el error estándar de la media para cada tamaño de muestra usando la
información poblacional (ésta no es una aproximación), usa la fórmula:
<span class="math inline">\(se_P(\bar{x}) = \sigma_P/ \sqrt{n}\)</span>.</p></li>
<li><p>¿Cómo se comparan los errores estándar correspondientes a los distintos
tamaños de muestra?</p></li>
</ul>
<div id="solucion-bootstrap" class="section level3 unnumbered">
<h3>Solución + bootstrap</h3>
<p>Presentamos la solución del ejercicio y agregamos como haríamos con bootsrtap.</p>
<p>Suponemos que me interesa hacer inferencia del promedio de las
calificaciones de los estudiantes de tercero de primaria en el Estado de México.</p>
<p>En este ejercicio planteamos <span class="math inline">\(3\)</span> escenarios (que simulamos): 1) que tengo una
muestra de tamaño <span class="math inline">\(10\)</span>, 2) que tengo una muestra de tamaño <span class="math inline">\(100\)</span>, y 3) que tengo una
muestra de tamaño <span class="math inline">\(1000\)</span>.</p>
<ul>
<li>Selección de muestras:</li>
</ul>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">373783326</span>)</a>
<a class="sourceLine" id="cb243-2" data-line-number="2">muestras &lt;-<span class="st"> </span><span class="kw">tibble</span>(<span class="dt">tamanos =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb243-3" data-line-number="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">muestras =</span> <span class="kw">map</span>(tamanos, <span class="op">~</span><span class="kw">sample</span>(enlace<span class="op">$</span>esp_<span class="dv">3</span>, <span class="dt">size =</span> .)))</a></code></pre></div>
<p>Ahora procedemos de manera <em>usual</em> en estadística (usando fórmulas y no
simulación), estimo la media de la muestra con el estimador <em>plug-in</em>
<span class="math display">\[\bar{x}={1/n\sum x_i}\]</span>
y el error estándar de <span class="math inline">\(\bar{x}\)</span> con el estimador <em>plug-in</em>
<span class="math display">\[\hat{se}(\bar{x}) =\bigg\{\frac{1}{n^2}\sum_{i=1}^n(x_i-\bar{x})^2\bigg\}^{1/2}\]</span></p>
<ul>
<li>Estimadores <em>plug-in</em>:</li>
</ul>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1">se_plug_in &lt;-<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb244-2" data-line-number="2">    x_bar &lt;-<span class="st"> </span><span class="kw">mean</span>(x)</a>
<a class="sourceLine" id="cb244-3" data-line-number="3">    n_x &lt;-<span class="st"> </span><span class="kw">length</span>(x)</a>
<a class="sourceLine" id="cb244-4" data-line-number="4">    var_x &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">/</span><span class="st"> </span>n_x <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="kw">sum</span>((x <span class="op">-</span><span class="st"> </span>x_bar) <span class="op">^</span><span class="st"> </span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb244-5" data-line-number="5">    <span class="kw">sqrt</span>(var_x)</a>
<a class="sourceLine" id="cb244-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb244-7" data-line-number="7">muestras_est &lt;-<span class="st"> </span>muestras <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb244-8" data-line-number="8"><span class="st">    </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb244-9" data-line-number="9">        <span class="dt">medias =</span> <span class="kw">map_dbl</span>(muestras, mean), </a>
<a class="sourceLine" id="cb244-10" data-line-number="10">        <span class="dt">e_estandar_plug_in =</span> <span class="kw">map_dbl</span>(muestras, se_plug_in)</a>
<a class="sourceLine" id="cb244-11" data-line-number="11">    )</a>
<a class="sourceLine" id="cb244-12" data-line-number="12">muestras_est</a>
<a class="sourceLine" id="cb244-13" data-line-number="13"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb244-14" data-line-number="14"><span class="co">#&gt;   tamanos muestras      medias e_estandar_plug_in</span></a>
<a class="sourceLine" id="cb244-15" data-line-number="15"><span class="co">#&gt;     &lt;dbl&gt; &lt;list&gt;         &lt;dbl&gt;              &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb244-16" data-line-number="16"><span class="co">#&gt; 1      10 &lt;dbl [10]&gt;      602.              19.3 </span></a>
<a class="sourceLine" id="cb244-17" data-line-number="17"><span class="co">#&gt; 2     100 &lt;dbl [100]&gt;     553.               6.54</span></a>
<a class="sourceLine" id="cb244-18" data-line-number="18"><span class="co">#&gt; 3    1000 &lt;dbl [1,000]&gt;   552.               1.90</span></a></code></pre></div>
<p>Ahora, recordemos que la distribución muestral es la distribución de una
estadística, considerada como una variable aleatoria. Usando esta definción
podemos aproximarla, para cada tamaño de muestra, simulando:</p>
<ol style="list-style-type: decimal">
<li>simulamos muestras de tamaño <span class="math inline">\(n\)</span> de la población,<br />
</li>
<li>calculamos la estadística de interés (en este caso <span class="math inline">\(\bar{x}\)</span>),<br />
</li>
<li>vemos la distribución de la estadística a lo largo de simulaciones.</li>
</ol>
<ul>
<li>Histogramas de distribución muestral y aproximación de errores estándar con
simulación</li>
</ul>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" data-line-number="1">muestras_sims &lt;-<span class="st"> </span>muestras_est <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb245-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb245-3" data-line-number="3">        <span class="dt">sims_muestras =</span> <span class="kw">map</span>(tamanos, <span class="op">~</span><span class="kw">rerun</span>(<span class="dv">10000</span>, <span class="kw">sample</span>(enlace<span class="op">$</span>esp_<span class="dv">3</span>, </a>
<a class="sourceLine" id="cb245-4" data-line-number="4">            <span class="dt">size =</span> ., <span class="dt">replace =</span> <span class="ot">TRUE</span>))), </a>
<a class="sourceLine" id="cb245-5" data-line-number="5">        <span class="dt">sims_medias =</span> <span class="kw">map</span>(sims_muestras, <span class="op">~</span><span class="kw">map_dbl</span>(., mean)), </a>
<a class="sourceLine" id="cb245-6" data-line-number="6">        <span class="dt">e_estandar_aprox =</span> <span class="kw">map_dbl</span>(sims_medias, sd)</a>
<a class="sourceLine" id="cb245-7" data-line-number="7">        )</a>
<a class="sourceLine" id="cb245-8" data-line-number="8">sims_medias &lt;-<span class="st"> </span>muestras_sims <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-9" data-line-number="9"><span class="st">    </span><span class="kw">select</span>(tamanos, sims_medias) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb245-10" data-line-number="10"><span class="st">    </span><span class="kw">unnest</span>(sims_medias) </a>
<a class="sourceLine" id="cb245-11" data-line-number="11"></a>
<a class="sourceLine" id="cb245-12" data-line-number="12"><span class="kw">ggplot</span>(sims_medias, <span class="kw">aes</span>(<span class="dt">x =</span> sims_medias)) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-13" data-line-number="13"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-14" data-line-number="14"><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span>tamanos, <span class="dt">nrow =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb245-15" data-line-number="15"><span class="st">    </span><span class="kw">theme_minimal</span>()</a></code></pre></div>
<p><img src="98-tareas_files/figure-html/unnamed-chunk-13-1.png" width="672" height="350px" style="display: block; margin: auto;" /></p>
<p>Notamos que la variación en la distribución muestral decrece conforme aumenta
el tamaño de muestra, esto es esperado pues el error estándar de una media
es <span class="math inline">\(\sigma_P / \sqrt{n}\)</span>, y dado que en este ejemplo estamos calculando la media
para la misma población el valor poblacional <span class="math inline">\(\sigma_P\)</span> es constante y solo
cambia el denominador.</p>
<p>Nuestros valores de error estándar con simulación están en la columna
<code>e_estandar_aprox</code>:</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1">muestras_sims <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2"><span class="st">    </span><span class="kw">select</span>(tamanos, medias, e_estandar_plug_in, e_estandar_aprox)</a>
<a class="sourceLine" id="cb246-3" data-line-number="3"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb246-4" data-line-number="4"><span class="co">#&gt;   tamanos medias e_estandar_plug_in e_estandar_aprox</span></a>
<a class="sourceLine" id="cb246-5" data-line-number="5"><span class="co">#&gt;     &lt;dbl&gt;  &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb246-6" data-line-number="6"><span class="co">#&gt; 1      10   602.              19.3             18.9 </span></a>
<a class="sourceLine" id="cb246-7" data-line-number="7"><span class="co">#&gt; 2     100   553.               6.54             5.92</span></a>
<a class="sourceLine" id="cb246-8" data-line-number="8"><span class="co">#&gt; 3    1000   552.               1.90             1.87</span></a></code></pre></div>
<p>En este ejercicio estamos simulando para examinar las distribuciones muestrales
y para ver que podemos aproximar el error estándar de la media usando
simulación; sin embargo, dado que en este caso hipotético conocemos la varianza
poblacional y la fórmula del error estándar de una media, por lo que podemos
calcular el verdadero error estándar para una muestra de cada tamaño.</p>
<ul>
<li>Calcula el error estándar de la media para cada tamaño de muestra usando la
información poblacional:</li>
</ul>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1">muestras_sims_est &lt;-<span class="st"> </span>muestras_sims <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb247-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">e_estandar_pob =</span> <span class="kw">sd</span>(enlace<span class="op">$</span>esp_<span class="dv">3</span>) <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(tamanos))</a>
<a class="sourceLine" id="cb247-3" data-line-number="3">muestras_sims_est <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb247-4" data-line-number="4"><span class="st">    </span><span class="kw">select</span>(tamanos, e_estandar_plug_in, e_estandar_aprox, e_estandar_pob)</a>
<a class="sourceLine" id="cb247-5" data-line-number="5"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb247-6" data-line-number="6"><span class="co">#&gt;   tamanos e_estandar_plug_in e_estandar_aprox e_estandar_pob</span></a>
<a class="sourceLine" id="cb247-7" data-line-number="7"><span class="co">#&gt;     &lt;dbl&gt;              &lt;dbl&gt;            &lt;dbl&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb247-8" data-line-number="8"><span class="co">#&gt; 1      10              19.3             18.9           18.7 </span></a>
<a class="sourceLine" id="cb247-9" data-line-number="9"><span class="co">#&gt; 2     100               6.54             5.92           5.93</span></a>
<a class="sourceLine" id="cb247-10" data-line-number="10"><span class="co">#&gt; 3    1000               1.90             1.87           1.87</span></a></code></pre></div>
<p>En la tabla de arriba podemos comparar los <span class="math inline">\(3\)</span> errores estándar que calculamos,
recordemos que de estos <span class="math inline">\(3\)</span> el <em>plug-in</em> es el único que podríamos obtener en
un escenario real pues los otros dos los calculamos usando la población.</p>
<p>Una alternativa al estimador <em>plug-in</em> del error estándar es usar <em>bootstrap</em>
(en muchos casos no podemos calcular el error estándar <em>plug-in</em> por falta de
fórmulas) pero podemos usar <em>bootstrap</em>: utilizamos una
estimación de la distribución poblacional y calculamos el error estándar
bootstrap usando simulación. Hacemos el mismo procedimiento que usamos para
calcular <em>e_estandar_apox</em> pero sustituimos la distribución poblacional por la
distriución empírica. Hagámoslo usando las muestras que sacamos en el primer
paso:</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1">muestras_sims_est_boot &lt;-<span class="st"> </span>muestras_sims_est <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb248-2" data-line-number="2"><span class="st">    </span><span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb248-3" data-line-number="3">        <span class="dt">sims_muestras_boot =</span> <span class="kw">map2</span>(muestras, tamanos,</a>
<a class="sourceLine" id="cb248-4" data-line-number="4">            <span class="op">~</span><span class="kw">rerun</span>(<span class="dv">10000</span>, <span class="kw">sample</span>(.x, <span class="dt">size =</span> .y, <span class="dt">replace =</span> <span class="ot">TRUE</span>))), </a>
<a class="sourceLine" id="cb248-5" data-line-number="5">        <span class="dt">sims_medias_boot =</span> <span class="kw">map</span>(sims_muestras_boot, <span class="op">~</span><span class="kw">map_dbl</span>(., mean)), </a>
<a class="sourceLine" id="cb248-6" data-line-number="6">        <span class="dt">e_estandar_boot =</span> <span class="kw">map_dbl</span>(sims_medias_boot, sd)</a>
<a class="sourceLine" id="cb248-7" data-line-number="7">        )</a>
<a class="sourceLine" id="cb248-8" data-line-number="8">muestras_sims_est_boot</a>
<a class="sourceLine" id="cb248-9" data-line-number="9"><span class="co">#&gt; # A tibble: 3 x 11</span></a>
<a class="sourceLine" id="cb248-10" data-line-number="10"><span class="co">#&gt;   tamanos muestras medias e_estandar_plug… sims_muestras sims_medias</span></a>
<a class="sourceLine" id="cb248-11" data-line-number="11"><span class="co">#&gt;     &lt;dbl&gt; &lt;list&gt;    &lt;dbl&gt;            &lt;dbl&gt; &lt;list&gt;        &lt;list&gt;     </span></a>
<a class="sourceLine" id="cb248-12" data-line-number="12"><span class="co">#&gt; 1      10 &lt;dbl [1…   602.            19.3  &lt;list [10,00… &lt;dbl [10,0…</span></a>
<a class="sourceLine" id="cb248-13" data-line-number="13"><span class="co">#&gt; 2     100 &lt;dbl [1…   553.             6.54 &lt;list [10,00… &lt;dbl [10,0…</span></a>
<a class="sourceLine" id="cb248-14" data-line-number="14"><span class="co">#&gt; 3    1000 &lt;dbl [1…   552.             1.90 &lt;list [10,00… &lt;dbl [10,0…</span></a>
<a class="sourceLine" id="cb248-15" data-line-number="15"><span class="co">#&gt; # … with 5 more variables: e_estandar_aprox &lt;dbl&gt;, e_estandar_pob &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb248-16" data-line-number="16"><span class="co">#&gt; #   sims_muestras_boot &lt;list&gt;, sims_medias_boot &lt;list&gt;,</span></a>
<a class="sourceLine" id="cb248-17" data-line-number="17"><span class="co">#&gt; #   e_estandar_boot &lt;dbl&gt;</span></a></code></pre></div>
<p>Graficamos los histogramas de la distribución bootstrap para cada muestra.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1">sims_medias_boot &lt;-<span class="st"> </span>muestras_sims_est_boot <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb249-2" data-line-number="2"><span class="st">    </span><span class="kw">select</span>(tamanos, sims_medias_boot) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb249-3" data-line-number="3"><span class="st">    </span><span class="kw">unnest</span>(sims_medias_boot) </a>
<a class="sourceLine" id="cb249-4" data-line-number="4"></a>
<a class="sourceLine" id="cb249-5" data-line-number="5"><span class="kw">ggplot</span>(sims_medias_boot, <span class="kw">aes</span>(<span class="dt">x =</span> sims_medias_boot)) <span class="op">+</span></a>
<a class="sourceLine" id="cb249-6" data-line-number="6"><span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">4</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb249-7" data-line-number="7"><span class="st">    </span><span class="kw">facet_wrap</span>(<span class="op">~</span>tamanos, <span class="dt">nrow =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb249-8" data-line-number="8"><span class="st">    </span><span class="kw">theme_minimal</span>()</a></code></pre></div>
<p><img src="98-tareas_files/figure-html/unnamed-chunk-17-1.png" width="672" height="350px" style="display: block; margin: auto;" /></p>
<p>Y la tabla con todos los errores estándar quedaría:</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1">muestras_sims_est_boot <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb250-2" data-line-number="2"><span class="st">    </span><span class="kw">select</span>(tamanos, e_estandar_boot, e_estandar_plug_in, e_estandar_aprox, </a>
<a class="sourceLine" id="cb250-3" data-line-number="3">        e_estandar_pob)</a>
<a class="sourceLine" id="cb250-4" data-line-number="4"><span class="co">#&gt; # A tibble: 3 x 5</span></a>
<a class="sourceLine" id="cb250-5" data-line-number="5"><span class="co">#&gt;   tamanos e_estandar_boot e_estandar_plug_… e_estandar_aprox e_estandar_pob</span></a>
<a class="sourceLine" id="cb250-6" data-line-number="6"><span class="co">#&gt;     &lt;dbl&gt;           &lt;dbl&gt;             &lt;dbl&gt;            &lt;dbl&gt;          &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb250-7" data-line-number="7"><span class="co">#&gt; 1      10           19.3              19.3             18.9           18.7 </span></a>
<a class="sourceLine" id="cb250-8" data-line-number="8"><span class="co">#&gt; 2     100            6.53              6.54             5.92           5.93</span></a>
<a class="sourceLine" id="cb250-9" data-line-number="9"><span class="co">#&gt; 3    1000            1.89              1.90             1.87           1.87</span></a></code></pre></div>
<p>Observamos que el estimador bootstrap del error estándar es muy similar al
estimador plug-in del error estándar, esto es esperado pues se calcularon con la
misma muestra y el error estándar <em>bootstrap</em> converge al <em>plug-in</em> conforme
incrementamos el número de muestras <em>bootstrap</em>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="union-de-tablas-y-limpieza-de-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bootstrap-conteo.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tereom/est-computacional-2019/edit/master/98-tareas.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
